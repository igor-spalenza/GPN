@{
    ViewData["Title"] = "Módulo de Vendas";
}

<h2>Identificação do Cliente</h2>
<input type="text" id="buscarCliente" placeholder="Buscar Cliente..." class="border p-2 mb-2 w-full" /><br />
<select id="tipoPedido" class="border p-2 mb-2 w-full">
    <option value="encomenda">Encomenda</option>
    <option value="evento">Evento</option>
</select><br />
<a class="btn btn-sales mb-3" href="/Venda/AnotarPedido/">Anotar Pedido</a>

<script>
    $("#buscarCliente").autocomplete({
        source: function(request, response) {
            $.ajax({
                url: "GPN.API/Cliente/BuscarClienteNomeTel",
                data: { termo: request.term },
                success: function(data) {
                    response(data.map(c => ({ label: c.nome + " - " + c.telefone, value: c.id })));
                }
            });
        },
        select: function(event, ui) {
            console.log("Cliente selecionado:", ui.item.value);
        }
    });
</script>
